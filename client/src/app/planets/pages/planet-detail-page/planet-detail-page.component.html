<ng-container *ngIf="planet$ | async as p; else notFound">
    <div class="detail-header">
        <button (click)="goBack()">← Back</button>
        <h2>{{ p.planetName }}</h2>
    </div>

    <div class="detail-body">
        <img *ngIf="p.imageUrl" [src]="p.imageUrl" alt="" class="hero" />
        <p *ngIf="p.description">{{ p.description }}</p>

        <div class="specs">
            <div>
                <b>Color:</b>
                <span class="chip" [style.background]="p.planetColor">{{
                    p.planetColor || "—"
                }}</span>
            </div>
            <div><b>Radius:</b> {{ p.planetRadiusKM }} km</div>
            <div>
                <b>Dist. from Sun:</b> {{ p.distInMillionsKM?.fromSun }} km
            </div>
            <div>
                <b>Dist. from Earth:</b> {{ p.distInMillionsKM?.fromEarth }} km
            </div>
        </div>
    </div>

    <div class="detail-actions">
        <app-planet-form-dialog #formDlg></app-planet-form-dialog>
        <button (click)="edit(p, formDlg)">Edit</button>
        <button class="danger" (click)="remove(p)">Delete</button>
    </div>
</ng-container>

<app-confirm-dialog #confirmDlg></app-confirm-dialog>

<ng-template #notFound>
    <p>Planet not found.</p>
</ng-template>
